<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>JS 08</title>
    <style>
        .container {
            display: flex;
            justify-content: center;
        }
    </style>
</head>

<body>
    <h1 align="center">String Statistic</h1>
    <div class="container">
        <table>
            <tr>
                <td>String:</td>
                <td><input type="text" id="myText" value="Hello, how are you? 11324"></td>
            </tr>
            <tr>
                <td></td>
                <td><button onclick="getStatisticResults()">Statistic</button></td>
            </tr>
            <tr>
                <td></td>
                <td>
                    
                    <p id="results">

                    </p>
                </td>
            </tr>
        </table>
    </div>

    <script>

        function getStatisticResults() {
            var s = document.getElementById('myText').value
            console.log(s.charAt(1), s.charCodeAt(1))
            var arr = s.split(" ")
            
            var i, words = 0
            var arrkq = []

            for (i = 0; i <= 128; i++) {
                arrkq[i] = 0
            }
            for (i = 0; i < arr.length; i++) {
                if (arr[i].trim() != "")
                    words++
            }
            var kq = "Characters: " + s.length + "<br>" + "Words: " + words + "<br>"

            for (i = 0; i < s.length; i++) {
                if (s.charCodeAt(i) >= 'a' && s.charCodeAt(i) <= 'z')
                    arrkq[s.charCodeAt(i) - 32]++
                else
                    arrkq[s.charCodeAt(i)]++
            }

            for (i = 0; i < arrkq.length; i++) {
                if (arrkq[i] > 0)
                    kq += "Character '" + String.fromCharCode(i) + "': " + arrkq[i] + "<br>"
            }

            document.getElementById("results").innerHTML = kq
        }

    </script>
</body>